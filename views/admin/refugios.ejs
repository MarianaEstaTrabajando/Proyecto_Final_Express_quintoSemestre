<head>
  <link rel="stylesheet" href="/css/estilos.css">
</head>
<h1>Listar refugios</h1>
<form action="/admin/listar_refugio_id" method="get">
  <input type="number" name="id" placeholder="Buscar Refugio por ID" step="1">
  <button type="submit">Buscar</button>
</form>

<div style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: flex-start;">
  <% refugios.forEach(refugio => { %>
    <div style="display: flex; flex-direction: column; width: 220px; border: 1px solid #ccc; border-radius: 8px; padding: 10px; box-sizing: border-box; background: #fafafa;">
      
      <% if (refugio.fotos.length > 0) { %>
        <img src="/<%= refugio.fotos[0].url %>" 
             alt="Foto del refugio" 
             style="width: 100%; height: 150px; object-fit: cover; border-radius: 4px; margin-bottom: 10px;">
      <% } else { %>
        <div style="width: 100%; height: 150px; background:#eee; border-radius:4px; margin-bottom:10px;"></div>
      <% } %>

      <div>
        <p><strong>ID:</strong> <%= refugio.id %></p>
        <p><strong>Nombre:</strong> <%= refugio.nombre %></p>
        <p><strong>Descripción:</strong> <%= refugio.descripcion %></p>
        <p><strong>Cantidad de gatos:</strong> <%= refugio.cantidad_gatos %></p>
        <p><strong>Tiempo de existencia:</strong> <%= refugio.tiempo_existencia %> años</p>
        <p><strong>Fondos actuales:</strong> $<%= refugio.fondos_actuales %></p>
      </div>

      <form action="/admin/listar_refugio_id" method="get" style="margin-top:10px;">
        <input type="hidden" name="id" value="<%= refugio.id %>">
        <button type="submit" style="width:100%;">Ver</button>
      </form>
    </div>
  <% }) %>
</div>
